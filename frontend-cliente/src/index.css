/* src/index.css */
@import "tailwindcss";

/* ====== DESIGN TOKENS (v4) ====== */
@theme {
  /* Fuentes */
  --font-sans: Inter, ui-sans-serif, system-ui, "Segoe UI", Arial, sans-serif;
  --font-serif: "Playfair Display", Georgia, ui-serif, serif;
  --font-montserrat: "Montserrat", var(--font-sans);

  /* Colores de marca y fondo app (necesarios para tus clases) */
  --color-appbg: #f3f7fb;          /* fondo claro estilo Figma */
  --color-brand: #10b981;          /* emerald-500 */
  --color-brand-700: #047857;      /* emerald-700 */
  --color-accent: #fde68a;         /* badge [Popular] */

  /* Sombras personalizadas */
  --shadow-card: 0 8px 24px -8px rgba(16,24,40,.15);
  --shadow-cta: 0 10px 28px -10px rgba(16,185,129,.45);
}

/* ====== BASE ====== */
@layer base {
  html, body, #root { @apply min-h-svh; }
  body { @apply bg-appbg font-sans text-neutral-900 antialiased; }
  h1,h2,h3,.heading { @apply font-montserrat font-extrabold uppercase tracking-wide; }
}

/* ====== COMPONENTES UTILITARIOS ====== */
@layer components {
  .card-light { @apply bg-white text-neutral-900; }
  .card-light-muted { @apply text-neutral-600; }
  .badge-on-img { @apply absolute bottom-0 inset-x-0 bg-white/85 text-neutral-900 px-3 py-2 font-medium; }
  .badge-on-img-dark { @apply absolute bottom-0 inset-x-0 bg-black/60 text-white px-3 py-2 font-medium; }

  .tile-hover { @apply transition-all duration-300 hover:-translate-y-[2px] hover:shadow-lg; }
  .arrow-btn { @apply rounded-full bg-white shadow-lg ring-1 ring-black/5 p-2 hover:shadow-xl transition-all duration-200 ease-out; }

  .carousel-gradient-left  { @apply pointer-events-none absolute inset-y-0 left-0 w-6 bg-gradient-to-r from-appbg to-transparent; }
  .carousel-gradient-right { @apply pointer-events-none absolute inset-y-0 right-0 w-6 bg-gradient-to-l from-appbg to-transparent; }

  .modal-overlay { overscroll-behavior: contain; }
}

/* ====== EXTRAS ====== */
.no-scrollbar::-webkit-scrollbar { display: none; }
.no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

@keyframes fadeIn { from { opacity: 0; transform: translateY(8px);} to { opacity: 1; transform: translateY(0);} }
.animate-fadeIn { animation: fadeIn .6s ease-out forwards; }
@keyframes fadeInUp { from { opacity: 0; transform: translateY(20px);} to { opacity: 1; transform: translateY(0);} }
.animate-fadeInUp { animation: fadeInUp .6s ease-out forwards; }

* { -webkit-tap-highlight-color: transparent; }

.scroll-snap-x { scroll-snap-type: x mandatory; }
.scroll-snap-x > * { scroll-snap-align: start; }

.hide-x-scrollbar { scrollbar-width: none; }
.hide-x-scrollbar::-webkit-scrollbar { display: none; }

.mp-card-wrap { width: 100%; max-width: 360px; margin-left: auto; margin-right: auto; }
@media (min-width: 380px) { .mp-card-wrap { max-width: 420px; } }
.mp-card-wrap > div { width: 100% !important; max-width: 100% !important; }

:root { --cart-bar-h: 0px; }
.pb-cartbar { padding-bottom: max(var(--cart-bar-h), 0px) }

@keyframes sheet-in   { 0% { transform: translateY(100%);} 65% {transform: translateY(-10px);} 100% { transform: translateY(0);} }
@keyframes sheet-out  { 0% { transform: translateY(var(--y,0)); } 100% { transform: translateY(100%);} }
@keyframes overlay-in { from { opacity: 0 } to { opacity: 1 } }
@keyframes overlay-out{ from { opacity: 1 } to { opacity: 0 } }

.cart-overlay[data-state="open"]   { animation: overlay-in .25s ease-out both; }
.cart-overlay[data-state="closed"] { animation: overlay-out .22s ease-in both; }

.cart-panel { will-change: transform; transform: translateY(100%); }
.cart-panel[data-state="open"]    { animation: sheet-in 460ms cubic-bezier(.16,1,.3,1) both; }
.cart-panel[data-state="closing"] { animation: sheet-out 260ms cubic-bezier(.22,.61,.36,1) both; }

.avoid-cartbar { padding-bottom: calc(var(--cart-bar-h) + env(safe-area-inset-bottom)); }

/* Hover zoom (como Figma) */
@layer utilities {
  .hover-zoom .hover-zoom-img { transition: transform .35s ease, filter .35s ease; }
  .hover-zoom:hover .hover-zoom-img { transform: scale(1.03); }

  .text-brand { @apply text-brand; }
  .bg-brand { @apply bg-brand; }
  .shadow-card { box-shadow: var(--shadow-card); }
  .shadow-cta { box-shadow: var(--shadow-cta); }
}

/* Focus verde en inputs */
input:focus, textarea:focus, select:focus { outline: none; }
.search-green:focus {
  box-shadow: 0 0 0 2px rgba(16,185,129,.25);
  border-color: #10B981;
}
